#Цель работы
Целью данной работы является предоставление возможности просмотра электронных курсов на основных платформах (Windows, iOs, Android). В связи с этим было принято решение реализовать курсы в web формате. Для этого необходимо обеспечить конвертацию настоящего курса в формат web. 
#Структура программной части
Конвертор был разработан в среде ***Visual Studio 2013*** на языке ***C#*** с использованием технологии ***WPF***. 
#Описание структуры классов проектов VS 2013 и сборок
##CommonConvertLib
***CommonConvertLib*** представляет собой библиотеку классов, используемых в нескольких проектах.
Обзор классов и файлов
###Helpers
В данную группу входят классы-помощники, чаще всего статические, которые ориентированы на выполнение небольших операций разного плана.
***DirectoryHelper.cs*** - содержит класс со статическими методами, выполняющими операции с/над каталогами и файлами (создание, удаление, копирование...);
StepMessager
В данную группу входит набор классов и интерфейс для обеспечения уведомления "подписчиков" о ходе процесса. Это может быть любая строка. Некоторые исключения, генерируемые в процессе конвертации не "критичны" для конвертации курса в целом (например не удалось очистить временную папку, не создался zip архив...), в этом случае достаточно уведомить пользователя о проблеме и предложить способ ее решения.

1.	***IStepMessager.cs*** - содержит интерфейс передачи сообщения IStepMessager;

2.	***StepChangeMessager.cs*** - содержит класс, реализующий интерфейс IStepMessager. Для классов, которые наследуются только от интерфейсов удобно использовать наследование от данного класса, т.к. метод "отправки" сообщения у него уже реализован;

3.	***StepChangeArg.cs*** - содержит класс аргумента обработчика события посыла сообщения StepChangeArg.
####Дальнейшее развитие
В дальнейшем, возможно расширение и добавление общих классов проекта. Также можно модифицировать классы уведомления о ходе процесса, добавив тип уведомления (смена этапа, возникло исключение, возможная градация по важности) для формирования более информативных (с применением различных цветов и шрифтов) отчетов о ходе выполнения операций. 

###SWFToHTML5
Данный проект представляет собой библиотеку для конвертации swf файлов из заданного каталога в форматы webm и mp4.
Обзор классов и файлов
***HTML5ConvertSettings.cs*** - содержит класс параметров конвертации видео в webm и mp4. Данные параметры являются частными для данного конвертора;

1.	***ConvertorSTH5.cs*** - содержит основной класс конвертации swf в webm и mp4. Данный класс наследуется от StepChangeMessager, таким образом обеспечивается возможность сообщать сторонним объектам об этапах конвертации и возникших исключениях; и реализует общий интерфейс конверторов IConvertor. ConvertorSTH5 выполняет последовательную конвертацию swf видео файла в набор изображений, из набора изображений в mp4 и webm;

2.	***Convertor2Image.cs*** - содержит класс конвертора swf файла в набор изображений во временную папку. Класс использует стороннюю библиотеку SWFToImage.dll;

3.	***Convertor2Mp4.cs*** - содержит класс конвертации набора изображений в mp4, используя стороннюю утилиту ffmpeg.exe;

4.	***Convertor2Webm.cs***- содержит класс конвертации набора изображений в webm, используя стороннюю утилиту ffmpeg-webm.exe.

###Interface
В каталоге находятся файлы интерфейсов конвертора  (***IConvertor.cs***) и параметров конвертации (***IConverSettings.cs***).  Данные интерфейсы определяют общие методы и поля для любого способа конвертации swf.
###Helpers
К данной группе относятся классы-помощники.
***OperateExecuter.cs*** - содержит класс выполнения операций ***OperateExecuter***. Т.к. конвертация видео осуществляется с помощью сторонних утилит, то необходимо обеспечить наиболее продуктивное их использование. Данный класс содержит перегруженный метод DoOperation, принимающий в качестве аргументов метод, возвращающий флаг успешного выполнения, и его строковое описание. DoOperation пытается выполнить этот метод. В случае трех неудачных попыток генерируется исключение о невозможности выполнения метода. Например, при неудачном запуске сторонней утилиты, программа попытается запустить ее еще два раза и  только после этого выдаст сообщение о невозможности этого действия; 
***PathExtension.cs*** - содержит класс с методом-расширением для строковых переменных. Данный метод добавляет разделитель каталогов к концу строки, если он там отсутствует.

###ResourseHlp
К данной группе относятся классы загрузки ресурсов для конвертации.
***IResourse.cs*** - содержит интерфейс, наследуемый от интерфейса IEnumerable, который предоставляет перечисляемую коллекцию ресурсов для конвертации;
***SWFResourser.cs*** - содержит класс, реализующий интерфейс IResourse, который формирует перечисляемый список ***swf*** файлов, находящихся в указанной корневой директории и ее поддиректориях.
####Дальнейшее развитие
Возможно, в дальнейшем необходимо будет рассмотреть другие способы конвертации, без использования сторонних разработок.


###SWFToImage.DLL
***SWFToImage.DLL*** - библиотека сторонних разработчиков с открытой лицензией (CPOL) для конвертации swf файлов в набор изображений. Сайт проекта: http://www.bytescout.com, архив библиотеки: swftoimg.zip.

  
##Сопутствующие файлы
**CourseDemo* - папка с курсом, на котором тестировалась работа конвертора (demo-версия);
**Examples*- папка с примерами курсов в web формате:
		**ScormHTML* - часть курса с конвертацией видео и созданием scorm 			пакета;
**Templates* - папка с шаблонами конвертации:
		**convertDataHTML5* - шаблон конвертации курса с преобразованием 			swf  файлов в mp4 и webm.		
**SoursesDemo* - папка с проектом (VS 2013) - данный проект только часть системы.

